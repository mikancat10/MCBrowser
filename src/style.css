:root {
  --bg-main: #f3f3f3;
  --bg-bar: #ffffff;
  --bg-tab: #e6e6e6;
  --bg-tab-active: #ffffff;
  --border: #d0d0d0;
  --text: #222;
}

* { box-sizing: border-box; font-family: "Segoe UI", system-ui, sans-serif; }
body { margin:0; background:var(--bg-main); overflow:hidden; }

#titlebar { height:38px; display:flex; align-items:center; background:var(--bg-bar); border-bottom:1px solid var(--border);}
#tabs { display:flex; flex:1; padding-left:8px; overflow-x:auto; white-space:nowrap; }

.tab { flex:0 0 auto; min-width:140px; max-width:200px; height:30px; padding:6px 10px; margin-right:6px; background:var(--bg-tab); border-radius:8px 8px 0 0; cursor:pointer; user-select:none; display:flex; align-items:center; }
.tab.active { background:var(--bg-tab-active); border:1px solid var(--border); border-bottom:none; }
.tab-close { margin-left:auto; font-size:14px; opacity:0.6; cursor:pointer; }
.tab-close:hover { opacity:1; }

#newTabBtn { margin-right:10px; width:28px; height:28px; border:none; border-radius:50%; background:#e0e0e0; cursor:pointer; }

#nav { height:42px; background:var(--bg-bar); border-bottom:1px solid var(--border); display:flex; align-items:center; padding:0 12px; position:relative; }
.nav-btn { width:30px; height:30px; margin-right:6px; border:none; border-radius:50%; background:#eaeaea; cursor:pointer; }
#urlbar { flex:1; height:30px; border-radius:15px; border:1px solid var(--border); padding:0 14px; font-size:14px; }

#view-container { width:100vw; height:calc(100vh-80px); }
.webview { width:100%; height:100%; }

#bookmarkBar { height:34px; background:var(--bg-bar); border-bottom:1px solid var(--border); display:flex; align-items:center; padding:0 8px; gap:6px; overflow-x:auto; }
.bookmark-btn { display:flex; align-items:center; gap:6px; padding:6px 10px; background:#eaeaea; border-radius:14px; cursor:pointer; }
.bookmark-btn:hover { background:#ddd; }

.settings-sidebar { position:fixed; top:0; right:-320px; width:320px; height:100vh; background:#fff; border-left:1px solid #ccc; box-shadow:-4px 0 10px rgba(0,0,0,0.15); transition:right 0.25s ease; display:flex; flex-direction:column; }
.settings-sidebar.open { right:0; }
.settings-header { height:48px; display:flex; align-items:center; justify-content:space-between; padding:0 12px; border-bottom:1px solid #ddd; font-weight:600; }
.settings-content { padding:12px; }
.setting-item { display:flex; align-items:center; gap:8px; margin-bottom:12px; font-size:14px; }

.reset-btn { margin-top: 12px; padding: 8px 12px; background: #ff4d4f; color: #fff; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
.reset-btn:hover { background: #e04444; }

body.dark-mode { background-color: #1e1e1e; color: #f0f0f0; }
body.dark-mode #bookmarkBar, body.dark-mode .tab, body.dark-mode #nav { background-color: rgba(40,40,40,0.85); border-color:#555; color:#f0f0f0; }
body.dark-mode input, body.dark-mode select { background-color:#333; color:#f0f0f0; border-color:#555; }

/* webview を親に合わせる */
.webview {
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  border:none;
  display:none;
  z-index:0;
}


#view-container {
  flex: 1;           /* 残りの高さをすべて使う */
  display: flex;
  position: relative;
  overflow: hidden;
    position:relative;
  z-index:0;
}

body {
  margin: 0;
  height: 100vh;
  display: flex;
  flex-direction: column;
  background: var(--bg-main);
  overflow: hidden;
}

/* タイトルバー＋ナビ＋ブックマークバーを縦に並べる */
#titlebar, #nav, #bookmarkBar {
  flex-shrink: 0;
}

.nav-btn.small {
  width: 22px;
  height: 22px;
  font-size: 10px;
  margin-right: 10px;
  border-radius: 50%;
  background: #e0e0e0;
}

/* ===== 履歴ポップアップ ===== */
#historyPopup {
  position: absolute;
  top: 40px;
  left: 10px;
  width: 260px;
  max-height: 300px;
  overflow-y: auto;
  background: #fff;
  border: 1px solid #ccc;
  border-radius: 8px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  z-index: 999;
  padding: 6px 0;
}

.history-item {
  padding: 6px 10px;
  font-size: 13px;
  cursor: pointer;
}

.history-item:hover {
  background: #f0f0f0;
}

.hidden { display:none; }

/* ===== カスタム右クリックメニュー ===== */
.context-menu {
  position: fixed;
  background: #ffffff;
  border: 1px solid #ccc;
  border-radius: 8px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.2);
  padding: 6px 0;
  min-width: 180px;
  z-index: 9999;
  font-size: 13px;
}

.context-menu-item {
  padding: 8px 14px;
  cursor: pointer;
}

.context-menu-item:hover {
  background: #f2f2f2;
}

.context-menu-separator {
  height: 1px;
  background: #e0e0e0;
  margin: 4px 0;
}

/* ===== よくアクセスするサイト ===== */
#topSites{
  margin-top:34px;
  width:560px;
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:18px;
  justify-content:center;
}

.site-tile{
  height:90px;
  border-radius:14px;
  background:#ffffff;
  box-shadow:0 2px 6px rgba(0,0,0,.08);
  cursor:pointer;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  transition:.15s;
}

.site-tile:hover{
  transform:translateY(-3px);
  box-shadow:0 6px 18px rgba(0,0,0,.15);
}

.site-icon{
  width:36px;
  height:36px;
  border-radius:50%;
  background:#e8eaed;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  margin-bottom:6px;
}

.site-title{
  font-size:12px;
  max-width:110px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  color:#333;
}

.site-icon{
  width:36px;
  height:36px;
  border-radius:50%;
  object-fit:contain;
  background:#fff;
  padding:4px;
  margin-bottom:6px;
}
